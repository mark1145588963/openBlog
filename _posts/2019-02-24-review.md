---
layout: post
title: "Vim 与中文输入法"
subtitle: 'Using Vim with non-english input method'
author: "markzhang"
header-style: text
tags:
  - Vim
---

> 1、repeat(func, times, wait)返回一个函数a，执行的时候按照wait间隔执行指定times次数；2、a执行之后返回一个函数b，b函数执行之后取消这个定时调用；3、这两个函数的差别和缺点。setTimeout计时不准确，setInterval会定时往队列里面放函数，可能在一个回调函数执行完之后，连续执行好几个函数。
>```javascript
>let repeat = function(func, times, wait) {
>    let timer = 0, count = 1;
>    return function() {
>        timer = setInterval(function() {
>            if (count > 3) {
>                count = 0;
>                clearInterval(timer);
>            } else {
>                func.apply(this, arguments);
>                count++;
>            }
>        }, wait);
>        return function() {
>            if (timer) {
>                clearInterval(timer);
>            }
>        }
>    }
>}
>```